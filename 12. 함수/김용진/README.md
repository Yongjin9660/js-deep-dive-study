# 12. í•¨ìˆ˜

## 12.1 í•¨ìˆ˜ë€?

> ğŸ’¡ ì¼ë ¨ì˜ ê³¼ì •ì„ ë¬¸ìœ¼ë¡œ êµ¬í˜„í•˜ê³  ì½”ë“œ ë¸”ë¡ìœ¼ë¡œ ê°ì‹¸ì„œ í•˜ë‚˜ì˜ ì‹¤í–‰ ë‹¨ìœ„ë¡œ ì •ì˜í•œ ê²ƒ

## 12.2 í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

- ì½”ë“œì˜ ì¬ì‚¬ìš©
- ìœ ì§€ë³´ìˆ˜ì˜ í¸ì˜ì„± í–¥ìƒ
- ì½”ë“œì˜ ì‹ ë¢°ì„± í–¥ìƒ
- ì½”ë“œì˜ ê°€ë…ì„± í–¥ìƒ

## 12.3 í•¨ìˆ˜ ë¦¬í„°ëŸ´

- í•¨ìˆ˜ë„ ë¦¬í„°ëŸ´ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.
- í•¨ìˆ˜ëŠ” ê°ì²´ì´ë‹¤.
- ì¼ë°˜ ê°ì²´ëŠ” í˜¸ì¶œí•  ìˆ˜ ì—†ì§€ë§Œ í•¨ìˆ˜ëŠ” í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

```js
// ë³€ìˆ˜ì— í•¨ìˆ˜ ë¦¬í„°ëŸ´ì„ ë‹´ë‹¹
const f = function add(x, y) {
	return x + y;
};
```

## 12.4 í•¨ìˆ˜ ì •ì˜

1. **í•¨ìˆ˜ ì„ ì–¸ë¬¸**

```js
// í•¨ìˆ˜ ì„ ì–¸ë¬¸
function add(x, y) {
	return x + y;
}
```

- í•¨ìˆ˜ ì„ ì–¸ë¬¸ì€ í•¨ìˆ˜ ë¦¬í„°ëŸ´ê³¼ í˜•íƒœê°€ ë™ì¼
- í•¨ìˆ˜ ì„ ì–¸ë¬¸ì€ í•¨ìˆ˜ ì´ë¦„ì„ ìƒëµí•  ìˆ˜ ì—†ìŒ

2. **í•¨ìˆ˜ í‘œí˜„ì‹**

- ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜ëŠ” ì¼ê¸‰ ê°ì²´
  `ì¼ê¸‰ ê°ì²´` : ê°’ì²˜ëŸ¼ ë³€ìˆ˜ì— í• ë‹¹í•  ìˆ˜ë„ ìˆê³  í”„ë¡œí¼í‹° ê°’ì´ ë ìˆ˜ë„ ìˆê³  ë°°ì—´ì˜ ìš”ì†Œê°€ ë  ìˆ˜ë„ ìˆìŒ

  ```js
  // í•¨ìˆ˜ í‘œí˜„ì‹
  const add = function foo(x, y) {
  	return x + y;
  };
  // í•¨ìˆ˜ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì‹ë³„ìë¡œ í˜¸ì¶œ
  console.log(add(2, 5)); // 7

  // í•¨ìˆ˜ ì´ë¦„ì€ í•¨ìˆ˜ ëª¸ì²´  ë‚´ë¶€ì—ì„œë§Œ ìœ íš¨
  console.log(foo(2, 5)); // ReferenceError: foo is not defined
  ```

3. **í•¨ìˆ˜ ìƒì„± ì‹œì ê³¼ í•¨ìˆ˜ í˜¸ì´ìŠ¤íŒ…**

```js
// í•¨ìˆ˜ ì°¸ì¡°
console.dir(add); // f add(x, y)
console.dir(sub); // undefined

// í•¨ìˆ˜ í˜¸ì¶œ
console.log(add(2, 5)); // 7
console.log(sub(2, 5)); // TypeError: sub is not a function

// í•¨ìˆ˜ ì„ ì–¸ë¬¸
function add(x, y) {
	return x + y;
}

// í•¨ìˆ˜ í‘œí˜„ì‹
var sub = function (x, y) {
	return x + y;
};
```

- **í•¨ìˆ˜ ì„ ì–¸ë¬¸**
  - ëŸ°íƒ€ì„ ì´ì „ì— í•¨ìˆ˜ ê°ì²´ê°€ ë¨¼ì € ìƒì„±
  - ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í•¨ìˆ˜ ì´ë¦„ê³¼ ë™ì¼í•œ ì´ë¦„ì˜ ì‹ë³„ìë¥¼ ì•”ë¬µì ìœ¼ë¡œ ìƒì„±
  - ìƒì„±ëœ í•¨ìˆ˜ ê°ì²´ë¥¼ í• ë‹¹
  - ì¦‰, ëŸ°íƒ€ì„ì—ëŠ” ì´ë¯¸ í•¨ìˆ˜ ê°ì²´ê°€ ìƒì„±ë˜ì–´ í•¨ìˆ˜ ì´ë¦„ê³¼ ë™ì¼í•œ ì‹ë³„ìì— í• ë‹¹ê¹Œì§€ ì™„ë£Œ
  - `í•¨ìˆ˜ í˜¸ì´ìŠ¤íŒ…`
- **í•¨ìˆ˜ í‘œí˜„ì‹**
  - í• ë‹¹ë¬¸ì´ ì‹¤í–‰ë˜ëŠ” ì‹œì , ëŸ°íƒ€ì„ì— í‰ê°€ë¨
  - í• ë‹¹ë¬¸ì´ ì‹¤í–‰ë˜ëŠ” ì‹œì ì— í‰ê°€ë˜ì–´ í•¨ìˆ˜ ê°ì²´ê°€ ë¨
  - ë³€ìˆ˜ í˜¸ì´ìŠ¤íŒ…ì´ ë°œìƒ

4. **Function ìƒì„±ì í•¨ìˆ˜**

```js
var add = new Function('x', 'y', 'return x+y');

console.log(add(2, 5)); // 7
```

- ì¼ë°˜ì ì´ì§€ë„ ì•Šê³  ë°”ëŒì§í•˜ì§€ ì•ŠìŒ
  - í´ë¡œì €ë¥¼ ìƒì„±í•˜ì§€ ì•ŠëŠ” ë“±, ë‹¤ë¥´ê²Œ ë™ì‘

5. **í™”ì‚´í‘œ í•¨ìˆ˜**

```js
const add = (x, y) => x + y;
console.log(add(2, 5)); // 7
```

- ë‚´ë¶€ ë™ì‘ì´ ê°„ëµí™”ë˜ì–´ ìˆìŒ
  - ìƒì„±ì í•¨ìˆ˜ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ
  - this ë°”ì¸ë”© ë°©ì‹ì´ ë‹¤ë¦„
  - prototype í”„ë¡œí¼í‹°ê°€ ì—†ìŒ
  - arguments ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•ŠìŒ

## 12.5 í•¨ìˆ˜ í˜¸ì¶œ

1. **ë§¤ê°œë³€ìˆ˜ì™€ ì¸ìˆ˜**

```js
// í•¨ìˆ˜ ì„ ì–¸ë¬¸
function add(x, y) {
	return x + y;
}

// í•¨ìˆ˜ í˜¸ì¶œ
// ì¸ìˆ˜ 1ê³¼ 2ê°€ ë§¤ê°œë³€ìˆ˜ xì™€ yì— ìˆœì„œëŒ€ë¡œ í• ë‹¹ë˜ê³  í•¨ìˆ˜ ëª¸ì²´ì˜ ë¬¸ë“¤ì´ ìƒí–‰
var result = add(1, 2);
```

- ë§¤ê°œë³€ìˆ˜ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•  ë•Œ ì„ ì–¸
- í•¨ìˆ˜ ëª¸ì²´ ë‚´ë¶€ì—ì„œ ë³€ìˆ˜ì™€ ë™ì¼í•˜ê²Œ ì·¨ê¸‰
- ì¼ë°˜ ë³€ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ undefined ë¡œ ì´ˆê¸°í™”ëœ í›„ í• ë‹¹

2. **ì¸ìˆ˜ í™•ì¸**

```js
function add(x, y) {
	return x + y;
}

console.log(add(2)); // NaN
console.log(add('a', 'b')); // 'ab'
```

- ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ëŠ” ë§¤ê°œë³€ìˆ˜ì™€ ì¸ìˆ˜ì˜ ê°œìˆ˜ê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ì§€ ì•ŠìŒ
- ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë™ì  íƒ€ì… ì–¸ì–´ => ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì„ ì‚¬ì „ì— ì§€ì •í•  ìˆ˜ ì—†ìŒ

3. **ë§¤ê°œë³€ìˆ˜ì˜ ìµœëŒ€ ê°œìˆ˜**

> ECMAScript ì‚¬ì–‘ì—ì„œëŠ” ë§¤ê°œë³€ìˆ˜ì˜ ìµœëŒ€ ê°œìˆ˜ì— ëŒ€í•´ ëª…ì‹œì ìœ¼ë¡œ ì œí•œí•˜ê³  ìˆì§€ ì•ŠìŒ

- **ì´ìƒì ì¸ í•¨ìˆ˜ëŠ” í•œ ê°€ì§€ ì¼ë§Œ í•´ì•¼ í•˜ë©° ê°€ê¸‰ì  ì‘ê²Œ ë§Œë“¤ì–´ì•¼ í•¨**

4. **ë°˜í™˜ë¬¸**

```js
function multiply(x, y) {
	return x * y; // ë°˜í™˜ë¬¸
	console.log('ì‹¤í–‰ë˜ì§€ ì•ŠìŒ');
}
console.log(multiply(3, 5)); // 15
```

- ë°˜í™˜ë¬¸ì€ ìƒëµê°€ëŠ¥ => undefined ë°˜í™˜

## 12.6 ì°¸ì¡°ì— ì˜í•œ ì „ë‹¬ê³¼ ì™¸ë¶€ ìƒíƒœì˜ ë³€ê²½

```js
function change(primitive, obj) {
	primitive += 100;
	obj.name = 'Kim';
}

// ì™¸ë¶€ ìƒíƒœ
let num = 100;
const person = { name: 'Lee' };

console.log(num); // 100
console.log(person); // {name: 'Lee'}

// ì›ì‹œ ê°’ì€ ê°’ ìì²´ê°€ ë³µì‚¬ë˜ì–´ ì „ë‹¬
// ê°ì²´ëŠ” ì°¸ì¡° ê°’ì´ ë³µì‚¬ë˜ì–´ ì „ë‹¬
change(num, person);

console.log(num); // 100
console.log(person); // {name: 'Kim'}
```

- **ì›ì‹œê°’**
  - `immutable value`
  - ì§ì ‘ ë³€ê²½í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì¬í• ë‹¹ì„ í†µí•´ í• ë‹¹ëœ ì›ì‹œ ê°’ì„ ìƒˆë¡œìš´ ì›ì‹œ ê°’ìœ¼ë¡œ êµì²´
- **ê°ì²´**
  - `mutable value`
  - ì§ì ‘ ë³€ê²½í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¬í• ë‹¹ ì—†ì´ ì§ì ‘ í• ë‹¹ëœ ê°ì²´ë¥¼ ë³€ê²½

## 12.7 ë‹¤ì–‘í•œ í•¨ìˆ˜ì˜ í˜•íƒœ

1. **ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜**

- IIFE, Immediately Invoked Function Expression
- ë‹¨ í•œ ë²ˆë§Œ í˜¸ì¶œë¨

```js
let result = (function () {
	return 3 * 4;
})();

console.log(result); // 12

result = (function (a, b) {
	return a * b;
})(3, 5);

console.log(result); // 15
```

2. **ì¬ê·€ í•¨ìˆ˜**

- ìê¸° ìì‹ ì„ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜

3. **ì¤‘ì²© í•¨ìˆ˜**

- `nested function` or `inner function`
- í•¨ìˆ˜ ë‚´ë¶€ì— ì •ì˜ëœ í•¨ìˆ˜
- ì¼ë°˜ì ìœ¼ë¡œ ì™¸ë¶€ í•¨ìˆ˜ë¥¼ ë•ëŠ” `í—¬í¼ í•¨ìˆ˜`ë¡œ ë™ì‘

```js
function outer() {
	var x = 1;

	// ì¤‘ì²© í•¨ìˆ˜
	function inner() {
		var y = 2;
		// ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ ì°¸ì¡°
		console.log(x + y);
	}

	inner();
}

outer();
```

4. **ì½œë°± í•¨ìˆ˜**

```js
// ì™¸ë¶€ì—ì„œ ì „ë‹¬ë°›ì€ fë¥¼ në§Œí¼ ë°˜ë³µ í˜¸ì¶œ
function repeat(n, f) {
	for (let i = 0; i < n; i++) {
		f(i); // i ë¥¼ ì „ë‹¬í•˜ë©´ì„œ í˜¸ì¶œ
	}
}

const logAll = function (i) {
	console.log(i);
};

repeat(5, logAll); // 0 1 2 3 4

const logOdds = function () {
	if (i % 2) console.log(i);
};

repeat(5, logOdds); // 1 3
```

- `ì½œë°±í•¨ìˆ˜`
  - Callback Function
  - í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ë‚´ë¶€ë¡œ ì „ë‹¬ë˜ëŠ” í•¨ìˆ˜
  - í—¬í¼ í•¨ìˆ˜ì˜ ì—­í• 
- `ê³ ì°¨í•¨ìˆ˜`
  - Higher-Order Function
  - ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ í•¨ìˆ˜ì˜ ì™¸ë¶€ì—ì„œ ì½œë°± í•¨ìˆ˜ë¥¼ ì „ë‹¬ë°›ì€ í•¨ìˆ˜
  - ì½œë°± í•¨ìˆ˜ë¥¼ ìì‹ ì˜ ì¼ë¶€ë¶„ìœ¼ë¡œ í•©ì„±

5. **ìˆœìˆ˜ í•¨ìˆ˜ì™€ ë¹„ìˆœìˆ˜ í•¨ìˆ˜**

- **ìˆœìˆ˜ í•¨ìˆ˜**
  - ë¶€ìˆ˜ íš¨ê³¼ê°€ ì—†ëŠ” í•¨ìˆ˜
  - ë™ì¼í•œ ì¸ìˆ˜ê°€ ì „ë‹¬ë˜ë©´ ì–¸ì œë‚˜ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
  - ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
- **ë¹„ìˆœìˆ˜ í•¨ìˆ˜**
  - ë¶€ìˆ˜ íš¨ê³¼ê°€ ìˆëŠ” í•¨ìˆ˜
