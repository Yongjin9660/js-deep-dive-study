# 13. 스코프

## 13.1 스코프

> 💡 모든 식별자(변수 이름, 함수 이름, 클래스 이름 등)가 참조될 수 있는 유효한 범위
>
> - **식별자를 검색하는 규칙**
> - **네임스페이스**

**`렉시컬 환경` :** 코드가 어디서 실행되며 주변에 어떤 코드가 있는지

_⇒_ **실행 컨텍스트** _모든 코드는 실행 컨텍스트에서 평가, 실행_

## 13.2 스코프의 종류

| 구분 | 설명                  | 스코프      | 변수      | 특징                                           |
| ---- | --------------------- | ----------- | --------- | ---------------------------------------------- |
| 전역 | 코드의 가장 바깥 영역 | 전역 스코프 | 전역 변수 | 어디서든 참조 가능                             |
| 지역 | 함수 몸체 내부        | 지역 스코프 | 지역 변수 | 자신의 스코프와 하위 지역 스코프에서 참조 가능 |

## 13.3 스코프 체인

> 💡 모든 스코프는 하나의 계층적 구조로 연결

![13-1](https://user-images.githubusercontent.com/55246584/148721179-95828af4-ba12-4af9-868e-53ad73dd9c68.png)

- `전역 스코프` : 모든 지역 스코프의 최상위 스코프
- 변수를 참조할 때, 자바스크립트 엔진은 `스코프 체인`은 통해 변수를 참조하는 코드의 스코프 ⇒ 상위 스코프 로 이동하며 선언된 변수를 검색

## 13.4 함수 레벨 스코프

> 💡 코드 블록이 아닌 함수에 의해서만 지역 스코프가 생성됨

`블록 레벨 스코프` : 함수 몸체 이외에도 모든 코드 블록 (if, for, while, try/catch 등)이 지역 스코프를 만듦

`함수 레벨 스코프` : var 키워드로 선언된 변수는 오로지 함수의 코드 블록만을 지역 스코프로 인정

```jsx
var i = 10;
for (var i = 0; i < 5; i++) {
	console.log(i); // 0 1 2 3 4
}
console.log(i); // 5

//var는 함수 레벨 스코프만을 지원하기 때문에 for문 안의 var로 선언된 i 는 전역 변수가 된다.
```

> **_ES6에서 도입된 let, const 키워드는 블록 레벨 스코프를 지원_**

## 13.5 렉시컬 스코프

<aside>
💡 자바스크립트는 렉시컬 스코프를 따름

</aside>

`렉시컬 스코프` : 함수를 어디서 호출했는지가 아니라 함수를 어디서 정의했는지에 따라 상위 스코프를 결정

→ 함수가 호출되는 위치는 상위 스코프 결정에 영향을 주지 않음

↔ `동적 스코프` : 함수가 호출되는 시점에 동적으로 상위 스코프를 결정

## 참조

- [https://debugmode.net/2013/09/17/variable-scope-chain-in-javascript/](https://debugmode.net/2013/09/17/variable-scope-chain-in-javascript/)
